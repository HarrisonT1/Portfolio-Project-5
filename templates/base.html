{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'images/favicon/apple-touch-icon.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'images/favicon/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'images/favicon/favicon-16x16.png' %}">
    <link rel="manifest" href="{% static 'images/favicon/site.webmanifest' %}">

    <!-- CSS that all pages need -->
    {% block corecss %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Pacifico&display=swap" rel="stylesheet">
    <link href="//cdn-images.mailchimp.com/embedcode/classic-061523.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    {% endblock %}

    <!-- Additional app seperate CSS files go here -->
    {% block extra_css %}
    {% endblock %}

    <!-- JS that all pages need -->
    {% block corejs %}
    <script src="https://kit.fontawesome.com/888eb8c8f0.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <!-- Stripe js -->
    <script src="https://js.stripe.com/v3/"></script>
    {% endblock %}
    
    <!-- Additional app seperate JS files go here -->
    {% block extra_js %}
    {% endblock %}

    <title>Sugar Rush{% block extra_title %}{% endblock %}</title>

    <meta name="author" content="Sugar Rush">
    <meta name="description" content="Sugar Rush is a UK sweet shop offering handcrafted sweet bags, pick and mix favourites, and chocolate treats. Perfect for gifting, parties, or treating yourself with fast UK delivery.">
    <meta name="keywords" content="UK sweet shop, pick and mix sweets, chocolate gifts, sweet bags, candy gifts UK, party sweets, handcrafted sweets, sweet delivery UK, Sugar Rush">
</head>
<body>
    {% include 'includes/navbar.html' %}
    {% include 'includes/mobile-navbar.html' %}
    {% include 'includes/category-navbar.html' %}
    {% include 'includes/detail_banner.html' %}

    <div class="toast-container">
        {% for message in messages %}
            {% if 'pick_and_mix_bag' in message.tags %}
                {% include 'includes/toasts/toast_pick_and_mix.html' %}
            {% elif 'bag' in message.tags %}
                {% include 'includes/toasts/toast_bag.html' %}
            {% else %}
                {% with message.level as level %}
                    {% if level == 40 %}
                        {% include 'includes/toasts/toast_error.html' %}
                    {% elif level == 30 %}
                        {% include 'includes/toasts/toast_warning.html' %}
                    {% elif level == 25 %}
                        {% include 'includes/toasts/toast_success.html' %}
                    {% else %}
                        {% include 'includes/toasts/toast_info.html' %}
                    {% endif %}
                {% endwith %}
            {% endif %}
        {% endfor %}
    </div>

    <main>
        {% block content %}

        {% endblock %}
    </main>
    {% include 'includes/footer.html' %}

    {% block postloadjs %}
        <script type="text/javascript">
            $(function() {
                $('.toast').toast('show');
            });
        </script>
        <!-- MOVED SCRIPT TAG DUE TO ERROR IN TERMINAL. SOLUTION FROM : https://stackoverflow.com/questions/31487474/mailchimp-js-validation-isnt-working -->
        <script src="https://s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script>
    {% endblock %}
</body>
</html>